<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>拾載：重返撼動南台的那一晚</title>
    <!-- 引入思源黑體與思源宋體 (明體) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Noto+Serif+TC:wght@700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37;
            --gold-light: rgba(212, 175, 55, 0.12);
            --deep-bg: #0d0d0d;
            --stone-white: #e0e0e0;
        }

        /* 0. 文字選取：極致輕盈螢光筆質感 */
        ::selection {
            background-color: var(--gold-light);
            color: #ffffff;
            text-shadow: 0 2px 10px var(--gold), 0 0 2px rgba(255, 255, 255, 0.8);
        }
        ::-moz-selection {
            background-color: var(--gold-light);
            color: #ffffff;
            text-shadow: 0 2px 10px var(--gold), 0 0 2px rgba(255, 255, 255, 0.8);
        }

        /* 1. 全局配置 */
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background-color: var(--deep-bg); 
            color: white; font-family: "Noto Sans TC", sans-serif; overflow: hidden; 
        }

        /* 2. 背景膠卷顆粒 */
        .film-grain {
            position: fixed; inset: 0; z-index: 100;
            pointer-events: none;
            opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* 3. 背景輪播與光暈 */
        #slideshow { position: fixed; inset: 0; z-index: 0; background: #1a1a1a; } 
        #slideshow::after {
            content: ""; position: absolute; inset: 0; z-index: 2;
            background: radial-gradient(circle at 30% 50%, rgba(26, 26, 26, 0) 0%, rgba(13, 13, 13, 0.98) 100%);
        }

        .slide { 
            position: absolute; inset: 0; background-size: cover; background-position: center; 
            opacity: 0; transition: opacity 4.5s ease-in-out; 
            filter: brightness(0.2) contrast(1.2) grayscale(1) blur(2px);
        }
        .slide.active { opacity: 0.4; }

        /* 4. 星空畫布 */
        #interactive-canvas {
            position: fixed; inset: 0; z-index: 5; pointer-events: none;
        }

        /* 5. 佈局細節 */
        .main-layout {
            position: relative; z-index: 10; height: 100vh;
            display: flex; flex-direction: column; justify-content: center;
            align-items: flex-start; padding-left: 8%;
            animation: layoutEntrance 2s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes layoutEntrance {
            0% { opacity: 0; transform: translateX(-30px); }
            100% { opacity: 1; transform: translateX(0); }
        }

        /* 背景大數字 */
        .bg-number {
            position: absolute; left: 2%; top: 50%; transform: translateY(-50%);
            font-size: 38rem; font-weight: 900; line-height: 1; z-index: -1; user-select: none;
            color: transparent; -webkit-text-stroke: 0.8px rgba(212, 175, 55, 0.08);
            background: repeating-linear-gradient(45deg, transparent, transparent 15px, rgba(212, 175, 55, 0.03) 15px, rgba(212, 175, 55, 0.03) 16px);
            background-clip: text; -webkit-background-clip: text;
            animation: floatNumber 12s ease-in-out infinite;
        }

        @keyframes floatNumber {
            0%, 100% { transform: translateY(-50%) translateX(0) rotate(0deg); }
            50% { transform: translateY(-52%) translateX(10px) rotate(1deg); }
        }

        /* ✨ 標題容器：調整為緩慢沉穩的晃動 */
        .title-wrapper { 
            display: flex; 
            align-items: flex-start; 
            margin-bottom: 25px; 
            /* 時長增加至 2.2s，並使用更加平滑的 ease-in-out 曲線 */
            animation: seismicReactionSlow 2.2s ease-in-out 4.2s both;
        }

        /* 改良後的緩慢震盪關鍵影格：次數減少，擺幅具備層次 */
        @keyframes seismicReactionSlow {
            0% { transform: translateX(0); }
            10% { transform: translateX(-15px); }
            25% { transform: translateX(12px); }
            40% { transform: translateX(-10px); }
            55% { transform: translateX(8px); }
            70% { transform: translateX(-4px); }
            85% { transform: translateX(2px); }
            100% { transform: translateX(0); }
        }
        
        h1.vertical-title {
            font-family: "Noto Serif TC", serif;
            writing-mode: vertical-rl; font-size: 8.5rem; font-weight: 900;
            letter-spacing: 2.5rem; margin: 0; line-height: 1;
            filter: url(#balanced-weathering);
            color: var(--stone-white);
            text-shadow: 2px 2px 5px rgba(0,0,0,0.4), 0 0 15px rgba(255,255,255,0.05);
        }

        .text-stack {
            position: relative; 
            display: flex; flex-direction: column; margin-left: 55px;
            border-left: none; padding-left: 45px;
        }

        /* 全長脈衝波形分隔線 */
        .seismic-wave-divider {
            position: absolute;
            left: -20px; 
            top: 0;
            width: 40px;
            height: 100%; 
            z-index: 12;
            pointer-events: none;
        }

        .seismic-path {
            fill: none;
            stroke: var(--gold);
            stroke-width: 1.2;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 2500;
            stroke-dashoffset: 2500;
            filter: drop-shadow(0 0 5px var(--gold));
            animation: drawPulseShort 5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            opacity: 0.7;
        }

        @keyframes drawPulseShort {
            0% { stroke-dashoffset: 2500; opacity: 0; }
            15% { opacity: 0.6; }
            100% { stroke-dashoffset: 0; opacity: 0.7; }
        }
        
        /* 線條底層（淡色背景線） */
        .seismic-base-line {
            stroke: rgba(255, 255, 255, 0.12);
            stroke-width: 0.6;
        }

        .full-date-time {
            font-size: 1.4rem; font-weight: 700; color: var(--gold);
            margin-bottom: 15px; letter-spacing: 0.3rem; opacity: 0.9;
        }

        /* 重返撼動南台的那一晚 */
        .main-sub-text {
            font-family: "Noto Serif TC", serif;
            font-size: 3.2rem; font-weight: 900; letter-spacing: 0.8rem;
            white-space: nowrap; margin-bottom: 40px;
            color: var(--stone-white);
            filter: url(#balanced-weathering);
            text-shadow: 1px 1px 4px rgba(0,0,0,0.4);
        }

        /* 文案區 */
        .slogan-container { height: 140px; max-width: 700px; }
        #slogan-text {
            font-size: 1.1rem; line-height: 2.5; text-align: left;
            transition: all 2.5s cubic-bezier(0.19, 1, 0.22, 1);
            color: rgba(255, 255, 255, 0.7);
            letter-spacing: 0.05rem;
        }

        /* 按鈕設計 */
        .btn-group { display: flex; gap: 30px; margin-top: 20px; }

        .enter-btn {
            position: relative;
            background: rgba(255,255,255,0.01); border: 1px solid rgba(255,255,255,0.15);
            color: rgba(255,255,255,0.9); padding: 18px 55px; cursor: pointer;
            backdrop-filter: blur(15px);
            letter-spacing: 0.5rem; transition: 0.5s all cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1rem; font-weight: 700; min-width: 210px;
            overflow: hidden;
        }

        .enter-btn::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.15), transparent);
            transition: 0.5s;
        }

        .enter-btn:hover::before { left: 100%; }
        .enter-btn:hover {
            border-color: var(--gold);
            color: var(--gold);
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.2);
            transform: translateY(-2px);
        }

    </style>
</head>
<body>

    <!-- 斑駁濾鏡定義 -->
    <svg style="display: none;">
        <filter id="balanced-weathering">
            <feTurbulence type="fractalNoise" baseFrequency="0.06" numOctaves="4" seed="10" result="noise" />
            <feColorMatrix in="noise" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 9 -5.5" result="mottle" />
            <feDisplacementMap in="SourceGraphic" in2="noise" scale="3.8" result="eroded" />
            <feComposite operator="out" in="eroded" in2="mottle" />
        </filter>
    </svg>

    <div class="film-grain"></div>

    <!-- 背景輪播 -->
    <div id="slideshow">
        <div class="slide active" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579817545766630/facebook?r=639038600489536854');"></div>
        <div class="slide" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579816952952614/facebook?r=639038602958658272');"></div>
        <div class="slide" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579816726729685/facebook?r=639038603384152621');"></div>
        <div class="slide" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579816445843595/facebook?r=639038603979416688');"></div>
        <div class="slide" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579816215980444/facebook?r=639038604305975401');"></div>
    </div>

    <canvas id="interactive-canvas"></canvas>

    <div class="main-layout">
        <div class="bg-number">10</div>
        <!-- title-wrapper：緩慢震盪的核心區域 -->
        <div class="title-wrapper">
            <h1 class="vertical-title">拾載</h1>
            <div class="text-stack">
                <!-- 全長分隔線 + 中央集中脈衝波形 -->
                <svg class="seismic-wave-divider" viewBox="0 0 40 1000" preserveAspectRatio="none">
                    <line class="seismic-base-line" x1="20" y1="0" x2="20" y2="1000" />
                    <path class="seismic-path" d="M20,0 L20,380 L18,395 L22,410 L16,425 L25,440 L10,460 L32,480 L0,505 L40,530 L5,555 L35,575 L12,595 L26,610 L18,625 L21,640 L20,660 L20,1000" />
                </svg>
                
                <div class="full-date-time">2016 . 02 . 06 — 03:57 AM</div>
                <div class="main-sub-text">重返撼動南台的那一晚</div>
                <div class="slogan-container">
                    <div id="slogan-text">十年前...這座島嶼，在時隔 17 年後的黑夜裡，再次發生了劇烈的晃動。<br>那一刻，全台甦醒，記憶留下了痕跡。<br>我們之所以選擇記得，那是因為，記得就是一種前行。</div>
                </div>
                <div class="btn-group">
                    <button class="enter-btn">關於拾載</button>
                    <button class="enter-btn">重返當年</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('interactive-canvas');
        const ctx = canvas.getContext('2d');
        let stars = [];
        const starCount = 117; 
        let mouse = { x: -1000, y: -1000 };

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        const colors = ["rgba(255, 255, 255, ", "rgba(240, 240, 240, ", "rgba(255, 250, 240, ", "rgba(235, 245, 255, "];

        class Star {
            constructor() { this.init(); }
            init() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.baseX = this.x; this.baseY = this.y;
                this.size = Math.random() * 1.5 + 0.6; 
                this.colorBase = colors[Math.floor(Math.random() * colors.length)];
                this.alpha = Math.random() * 0.5 + 0.3; 
                this.blinkSpeed = Math.random() * 0.008 + 0.003;
                this.isGlowing = false; this.glowFactor = 0; this.glowSpeed = 0.01 + Math.random() * 0.015; 
            }
            draw() {
                let currentAlpha = this.alpha + (1.0 - this.alpha) * this.glowFactor;
                let currentSize = this.size + (this.size * 2.2) * this.glowFactor;
                ctx.save();
                const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, currentSize * 4);
                gradient.addColorStop(0, this.colorBase + currentAlpha + ")");
                gradient.addColorStop(0.5, this.colorBase + (currentAlpha * 0.25) + ")");
                gradient.addColorStop(1, "transparent");
                ctx.fillStyle = gradient;
                ctx.beginPath(); ctx.arc(this.x, this.y, currentSize * 6, 0, Math.PI * 2); ctx.fill();
                ctx.fillStyle = `rgba(255, 255, 255, ${currentAlpha * 0.9})`;
                ctx.beginPath(); ctx.arc(this.x, this.y, currentSize * 0.45, 0, Math.PI * 2); ctx.fill();
                ctx.restore();
            }
            update() {
                let dx = mouse.x - this.baseX; let dy = mouse.y - this.baseY;
                let distance = Math.sqrt(dx * dx + dy * dy);
                if (distance < 500) {
                    let strength = (500 - distance) / 500;
                    let targetX = this.baseX + (dx * strength * 0.035);
                    let targetY = this.baseY + (dy * strength * 0.035);
                    this.x += (targetX - this.x) * 0.08; this.y += (targetY - this.y) * 0.08;
                } else {
                    this.x += (this.baseX - this.x) * 0.04; this.y += (this.baseY - this.y) * 0.04;
                }
                if (this.isGlowing) { if (this.glowFactor < 1) this.glowFactor += this.glowSpeed; }
                else { if (this.glowFactor > 0) this.glowFactor -= this.glowSpeed * 0.4; }
                if (this.glowFactor < 0.5) {
                    this.alpha += this.blinkSpeed;
                    if (this.alpha > 0.85 || this.alpha < 0.25) this.blinkSpeed *= -1;
                }
            }
        }

        function initStars() { stars = []; for (let i = 0; i < starCount; i++) stars.push(new Star()); }
        function animate() { ctx.clearRect(0, 0, canvas.width, canvas.height); stars.forEach(s => { s.update(); s.draw(); }); requestAnimationFrame(animate); }

        resize(); initStars(); animate();
        window.addEventListener('resize', () => { resize(); initStars(); });
        window.addEventListener('mousemove', (e) => { mouse.x = e.clientX; mouse.y = e.clientY; });

        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        setInterval(() => {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }, 9000);

        const sloganElement = document.getElementById('slogan-text');
        setTimeout(() => {
            sloganElement.style.opacity = '0';
            setTimeout(() => {
                sloganElement.innerHTML = "這片星空，為 0206 地震中的 117 位犧牲者而存在！<br>每一顆星，象徵一段被留下的生命，也提醒我們，那一夜從未真正遠去。";
                sloganElement.style.opacity = '1';
                stars.forEach(s => { s.isGlowing = true; });
                setTimeout(() => { stars.forEach(s => { s.isGlowing = false; }); }, 7000); 
            }, 2500);
        }, 6000);
    </script>
</body>
</html>
