<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>拾載：重返撼動南台的那一晚</title>
    <!-- 引入思源黑體與思源宋體 (明體) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Noto+Serif+TC:wght@700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37;
            --red-select: rgba(180, 0, 0, 0.2);
            --red-glow: #e63946;
            --deep-bg: #12141a; 
            --stone-white: #e8e8e8;
        }

        /* 0. 文字選取：紅色螢光筆質感 */
        ::selection {
            background-color: var(--red-select);
            color: #ffffff;
            text-shadow: 0 2px 10px var(--red-glow), 0 0 2px rgba(255, 255, 255, 0.8);
        }
        ::-moz-selection {
            background-color: var(--red-select);
            color: #ffffff;
            text-shadow: 0 2px 10px var(--red-glow), 0 0 2px rgba(255, 255, 255, 0.8);
        }

        /* 1. 全局配置 */
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background-color: var(--deep-bg); 
            color: white; font-family: "Noto Sans TC", sans-serif; overflow-x: hidden; 
        }

        /* 2. 背景膠卷顆粒 */
        .film-grain {
            position: fixed; inset: 0; z-index: 100;
            pointer-events: none;
            opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* 3. 背景輪播與光暈 */
        #slideshow { position: fixed; inset: 0; z-index: 0; background: #1a1c25; } 
        #slideshow::after {
            content: ""; position: absolute; inset: 0; z-index: 2;
            background: radial-gradient(circle at 30% 50%, rgba(20, 25, 35, 0) 0%, rgba(18, 20, 26, 0.9) 100%);
        }

        .slide { 
            position: absolute; inset: 0; background-size: cover; background-position: center; 
            opacity: 0; transition: opacity 4.5s ease-in-out; 
            filter: brightness(0.32) contrast(1.1) grayscale(0.8) blur(1px);
        }
        .slide.active { opacity: 0.45; }

        /* 4. 星空畫布 */
        #interactive-canvas {
            position: fixed; inset: 0; z-index: 5; pointer-events: none;
        }

        /* 台南地圖裝飾層 */
        .tainan-map-overlay {
            position: fixed;
            right: -5%;
            top: 55%;
            transform: translateY(-50%);
            width: 60vw;
            max-width: 1200px;
            z-index: 3;
            opacity: 0.2;
            filter: invert(1) brightness(1.6) contrast(1.3) url(#balanced-weathering);
            pointer-events: none;
            user-select: none;
            animation: mapEntranceLarge 4.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes mapEntranceLarge {
            0% { opacity: 0; transform: translateY(-47%) scale(0.92); filter: invert(1) blur(10px); }
            100% { opacity: 0.2; transform: translateY(-50%) scale(1); filter: invert(1) brightness(1.6) contrast(1.3) url(#balanced-weathering); }
        }

        /* 5. 佈局細節 */
        .main-layout {
            position: relative; z-index: 10; height: 100vh;
            display: flex; flex-direction: column; justify-content: center;
            align-items: flex-start; padding-left: 8%;
            animation: layoutEntrance 2s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes layoutEntrance {
            0% { opacity: 0; transform: translateX(-30px); }
            100% { opacity: 1; transform: translateX(0); }
        }

        /* 背景大數字 */
        .bg-number {
            position: absolute; left: 2%; top: 50%; transform: translateY(-50%);
            font-size: 38rem; font-weight: 900; line-height: 1; z-index: -1; user-select: none;
            color: transparent; -webkit-text-stroke: 0.8px rgba(212, 175, 55, 0.06);
            background: repeating-linear-gradient(45deg, transparent, transparent 15px, rgba(212, 175, 55, 0.02) 15px, rgba(212, 175, 55, 0.02) 16px);
            background-clip: text; -webkit-background-clip: text;
            animation: floatNumber 12s ease-in-out infinite;
        }

        @keyframes floatNumber {
            0%, 100% { transform: translateY(-50%) translateX(0) rotate(0deg); }
            50% { transform: translateY(-52%) translateX(10px) rotate(1deg); }
        }

        /* 標題容器動畫 */
        .title-wrapper { 
            display: flex; 
            align-items: flex-start; 
            margin-bottom: 25px; 
            animation: 
                seismicReactionSlow 2.2s ease-in-out 4.2s both,
                subtlePeriodicShake 10s ease-in-out 10s infinite;
        }

        @keyframes seismicReactionSlow {
            0% { transform: translateX(0); }
            10% { transform: translateX(-15px); }
            25% { transform: translateX(12px); }
            40% { transform: translateX(-10px); }
            55% { transform: translateX(8px); }
            70% { transform: translateX(-4px); }
            85% { transform: translateX(2px); }
            100% { transform: translateX(0); }
        }

        @keyframes subtlePeriodicShake {
            0%, 90%, 100% { transform: translateX(0); }
            92% { transform: translateX(0.8px); }
            94% { transform: translateX(-0.8px); }
            96% { transform: translateX(0.5px); }
            98% { transform: translateX(-0.3px); }
        }

        .title-group {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        /* 拾載：標題文字 */
        h1.vertical-title {
            font-family: "Noto Serif TC", serif;
            writing-mode: vertical-rl; /* 電腦版維持縱向 */
            font-size: 8.5rem; font-weight: 900;
            letter-spacing: 2.5rem; margin: 0; line-height: 1;
            filter: url(#balanced-weathering);
            color: var(--stone-white);
            text-shadow: 2px 2px 8px rgba(0,0,0,0.6), 0 0 15px rgba(255,255,255,0.05);
        }

        .text-stack {
            position: relative; 
            display: flex; flex-direction: column; margin-left: 55px;
            border-left: none; padding-left: 45px;
        }

        /* 全長脈衝波形分隔線 */
        .seismic-wave-divider {
            position: absolute;
            left: -20px; 
            top: 0;
            width: 40px;
            height: 100%; 
            z-index: 12;
            pointer-events: none;
        }

        .seismic-path {
            fill: none;
            stroke: var(--gold);
            stroke-width: 1.2;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 2500;
            stroke-dashoffset: 2500;
            filter: drop-shadow(0 0 5px var(--gold));
            animation: drawPulseShort 5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            opacity: 0.7;
        }

        @keyframes drawPulseShort {
            0% { stroke-dashoffset: 2500; opacity: 0; }
            15% { opacity: 0.6; }
            100% { stroke-dashoffset: 0; opacity: 0.7; }
        }
        
        .seismic-base-line {
            stroke: rgba(255, 255, 255, 0.12);
            stroke-width: 0.6;
        }

        .full-date-time {
            font-size: 1.4rem; font-weight: 700; color: var(--gold);
            margin-bottom: 15px; letter-spacing: 0.3rem;
            text-shadow: 0 0 12px rgba(212, 175, 55, 0.5);
            animation: timeTextGlow 4s ease-in-out infinite;
        }

        @keyframes timeTextGlow {
            0%, 100% { text-shadow: 0 0 10px rgba(212, 175, 55, 0.3); opacity: 0.85; }
            50% { text-shadow: 0 0 20px rgba(212, 175, 55, 0.7); opacity: 1; }
        }

        .main-sub-text {
            font-family: "Noto Serif TC", serif;
            font-size: 3.2rem; font-weight: 900; letter-spacing: 0.8rem;
            white-space: nowrap; margin-bottom: 40px;
            color: var(--stone-white);
            filter: url(#balanced-weathering);
            text-shadow: 1px 1px 4px rgba(0,0,0,0.4);
        }

        #slogan-text {
            font-size: 1.1rem; line-height: 2.5; text-align: left;
            transition: all 2.5s cubic-bezier(0.19, 1, 0.22, 1);
            color: rgba(255, 255, 255, 0.8);
            letter-spacing: 0.05rem;
            max-width: 600px;
        }

        /* 按鈕設計 */
        .btn-group { display: flex; gap: 30px; margin-top: 20px; flex-wrap: wrap; }

        .enter-btn {
            position: relative;
            background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.18);
            color: rgba(255,255,255,0.9); padding: 18px 45px; cursor: pointer;
            backdrop-filter: blur(15px);
            letter-spacing: 0.4rem; transition: 0.5s all cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1rem; font-weight: 700; min-width: 230px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        .btn-arrow-icon {
            width: 20px; height: 20px; margin-left: 15px; fill: none;
            stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .enter-btn:hover {
            border-color: var(--gold); color: var(--gold);
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.2); transform: translateY(-2px);
        }

        .enter-btn:hover .btn-arrow-icon { transform: translateX(10px); }

        /* 頁底與語言切換 */
        .header-lang-switcher {
            position: fixed; top: 35px; right: 8%; z-index: 100; display: flex; gap: 20px;
        }
        .header-lang-switcher a {
            color: rgba(255, 255, 255, 0.4); text-decoration: none; font-size: 0.75rem;
            letter-spacing: 0.12rem; transition: all 0.3s ease; cursor: pointer;
        }
        .header-lang-switcher a.active { color: rgba(255, 255, 255, 0.85); font-weight: 700; }
        
        .footer-copyright {
            position: fixed; bottom: 35px; left: 8%; z-index: 15; font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.35); letter-spacing: 0.15rem; text-transform: uppercase;
        }
        .footer-links {
            position: fixed; bottom: 35px; right: 8%; z-index: 15; display: flex; gap: 30px;
        }
        .footer-links a { color: rgba(255, 255, 255, 0.35); text-decoration: none; font-size: 0.75rem; letter-spacing: 0.12rem; }
        .footer-links a:hover, .header-lang-switcher a:hover { color: var(--gold); }

        /* 彈出卡片 */
        .modal-overlay {
            position: fixed; inset: 0; background: rgba(0, 0, 0, 0.65); backdrop-filter: blur(12px);
            z-index: 200; display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.6s cubic-bezier(0.19, 1, 0.22, 1); padding: 20px;
        }
        .modal-overlay.active { opacity: 1; pointer-events: all; }
        .construction-card {
            position: relative; background: rgba(20, 25, 35, 0.85); border: 1px solid rgba(212, 175, 55, 0.35);
            padding: 70px 50px; width: 100%; max-width: 520px; text-align: center; border-radius: 24px;
            box-shadow: 0 0 60px rgba(0, 0, 0, 0.6); transform: scale(0.9);
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .modal-overlay.active .construction-card { transform: scale(1); }
        .card-close-x { position: absolute; top: 20px; right: 20px; width: 28px; height: 28px; cursor: pointer; color: rgba(255, 255, 255, 0.4); }

        /* ✨ 手機版響應式樣式優化 (Mobile Optimization) */
        @media (max-width: 768px) {
            .main-layout {
                padding-left: 5%; padding-right: 5%; justify-content: flex-start; padding-top: 80px;
            }

            .bg-number {
                font-size: 12rem; left: -2%; top: 15%; opacity: 0.4;
            }

            /* ✨ 拾載標題改為橫排模式 */
            .title-wrapper {
                flex-direction: column; /* 改為上下排列 */
                align-items: flex-start;
            }

            h1.vertical-title {
                writing-mode: horizontal-tb; /* ✨ 行動版強制改為橫式文字 */
                font-size: 4.5rem;
                letter-spacing: 0.8rem;
                margin-bottom: 25px; /* 給予下方震波與文字空間 */
                padding-bottom: 10px;
                width: 100%;
                text-align: left;
            }

            .text-stack {
                margin-left: 0; /* 移除左邊距，因為上方標題已改橫式 */
                padding-left: 25px;
                width: 100%;
                box-sizing: border-box;
            }

            .seismic-wave-divider {
                left: -10px;
                width: 20px;
            }

            .main-sub-text {
                font-size: 1.6rem; letter-spacing: 0.3rem; white-space: normal; line-height: 1.4;
            }

            #slogan-text {
                font-size: 0.9rem; line-height: 1.8; max-width: 100%;
            }

            .enter-btn {
                min-width: 100%; padding: 15px 25px;
            }

            .header-lang-switcher { top: 20px; right: 5%; }

            .footer-copyright {
                position: relative; left: auto; bottom: auto; margin-top: 60px; display: block;
            }

            .footer-links {
                position: relative; right: auto; bottom: auto; margin-top: 15px; margin-bottom: 40px; flex-wrap: wrap; gap: 15px;
            }

            .tainan-map-overlay {
                width: 100vw; right: -20%; opacity: 0.08;
            }
        }

    </style>
</head>
<body>

    <!-- 斑駁濾鏡定義 -->
    <svg style="display: none;">
        <filter id="balanced-weathering">
            <feTurbulence type="fractalNoise" baseFrequency="0.06" numOctaves="4" seed="10" result="noise" />
            <feColorMatrix in="noise" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 9 -5.5" result="mottle" />
            <feDisplacementMap in="SourceGraphic" in2="noise" scale="3.8" result="eroded" />
            <feComposite operator="out" in="eroded" in2="mottle" />
        </filter>
    </svg>

    <!-- 頂欄與頁底元素 -->
    <div class="header-lang-switcher">
        <a class="active">繁中</a>
        <a href="#">EN</a>
    </div>

    <div class="footer-copyright">
        © 2026 拾載專案團隊．版權所有
    </div>

    <div class="footer-links">
        <a href="#">服務條款</a>
        <a href="#">注意事項</a>
        <a href="#">官方網站</a>
    </div>

    <!-- 台南全市地圖 -->
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Tainan_districts_blank.svg/2163px-Tainan_districts_blank.svg.png" 
         class="tainan-map-overlay" 
         alt="Tainan Map">

    <div class="film-grain"></div>

    <div id="slideshow">
        <div class="slide active" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579817545766630/facebook?r=639038600489536854');"></div>
        <div class="slide" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579816952952614/facebook?r=639038602958658272');"></div>
        <div class="slide" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579816726729685/facebook?r=639038603384152621');"></div>
        <div class="slide" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579816445843595/facebook?r=639038603979416688');"></div>
        <div class="slide" style="background-image: url('https://photo.ardswc.gov.tw/api/Media/637579816215980444/facebook?r=639038604305975401');"></div>
    </div>

    <canvas id="interactive-canvas"></canvas>

    <div class="main-layout">
        <div class="bg-number">10</div>
        <div class="title-wrapper">
            <!-- 標題組合 -->
            <div class="title-group">
                <h1 class="vertical-title">拾載</h1>
            </div>

            <div class="text-stack">
                <!-- 全長分隔線 + 中央集中脈衝波形 -->
                <svg class="seismic-wave-divider" viewBox="0 0 40 1000" preserveAspectRatio="none">
                    <line class="seismic-base-line" x1="20" y1="0" x2="20" y2="1000" />
                    <path class="seismic-path" d="M20,0 L20,380 L18,395 L22,410 L16,425 L25,440 L10,460 L32,480 L0,505 L40,530 L5,555 L35,575 L12,595 L26,610 L18,625 L21,640 L20,660 L20,1000" />
                </svg>
                
                <div class="full-date-time">2016 . 02 . 06 — 03:57 AM</div>
                <div class="main-sub-text">重返撼動南台的那一晚</div>
                <div class="slogan-container">
                    <div id="slogan-text">十年前...這座島嶼，在時隔 17 年後的黑夜裡，再次發生了劇烈的晃動。<br>那一刻，全台甦醒，記憶留下了痕跡。<br>我們之所以選擇記得，那是因為，記得就是一種前行。</div>
                </div>
                <div class="btn-group">
                    <button class="enter-btn">
                        關於拾載
                        <svg class="btn-arrow-icon" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </button>
                    <button class="enter-btn" id="return-btn">
                        重返 0206
                        <svg class="btn-arrow-icon" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 「尚在建構中」彈出卡片 -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="construction-card">
            <div class="card-close-x" id="close-modal-x" aria-label="Close">
                <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg>
            </div>
            <div class="card-title">尚在建構中</div>
            <div class="card-desc">
                時光的齒輪正在咬合...<br>
                我們正在細心打磨這段珍貴的回憶空間，<br>
                敬請期待這場時光之旅。
            </div>
            <a class="close-card-btn" id="close-modal-btn">返回首頁</a>
        </div>
    </div>

    <script>
        // --- 互動卡片邏輯 ---
        const returnBtn = document.getElementById('return-btn');
        const modalOverlay = document.getElementById('modal-overlay');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const closeModalX = document.getElementById('close-modal-x');

        const closeHandler = () => { modalOverlay.classList.remove('active'); };
        returnBtn.addEventListener('click', () => { modalOverlay.classList.add('active'); });
        closeModalBtn.addEventListener('click', closeHandler);
        closeModalX.addEventListener('click', closeHandler);
        modalOverlay.addEventListener('click', (e) => { if (e.target === modalOverlay) closeHandler(); });

        // --- 星空與背景邏輯 ---
        const canvas = document.getElementById('interactive-canvas');
        const ctx = canvas.getContext('2d');
        let stars = [];
        const starCount = window.innerWidth < 768 ? 60 : 117; // 手機版星辰數量減少以優化效能
        let mouse = { x: -1000, y: -1000 };

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        const colors = ["rgba(255, 255, 255, ", "rgba(240, 240, 240, ", "rgba(255, 250, 240, ", "rgba(235, 245, 255, "];

        class Star {
            constructor() { this.init(); }
            init() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.baseX = this.x; this.baseY = this.y;
                this.size = Math.random() * 1.5 + 0.6; 
                this.colorBase = colors[Math.floor(Math.random() * colors.length)];
                this.alpha = Math.random() * 0.5 + 0.45; 
                this.blinkSpeed = Math.random() * 0.008 + 0.003;
                this.isGlowing = false; this.glowFactor = 0; this.glowSpeed = 0.01 + Math.random() * 0.015; 
            }
            draw() {
                let currentAlpha = this.alpha + (1.0 - this.alpha) * this.glowFactor;
                let currentSize = this.size + (this.size * 2.2) * this.glowFactor;
                ctx.save();
                const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, currentSize * 4);
                gradient.addColorStop(0, this.colorBase + currentAlpha + ")");
                gradient.addColorStop(0.5, this.colorBase + (currentAlpha * 0.25) + ")");
                gradient.addColorStop(1, "transparent");
                ctx.fillStyle = gradient;
                ctx.beginPath(); ctx.arc(this.x, this.y, currentSize * 6, 0, Math.PI * 2); ctx.fill();
                ctx.restore();
            }
            update() {
                let dx = mouse.x - this.baseX; let dy = mouse.y - this.baseY;
                let distance = Math.sqrt(dx * dx + dy * dy);
                if (distance < 300) {
                    let strength = (300 - distance) / 300;
                    let targetX = this.baseX + (dx * strength * 0.035);
                    let targetY = this.baseY + (dy * strength * 0.035);
                    this.x += (targetX - this.x) * 0.08; this.y += (targetY - this.y) * 0.08;
                } else {
                    this.x += (this.baseX - this.x) * 0.04; this.y += (this.baseY - this.y) * 0.04;
                }
                if (this.isGlowing) { if (this.glowFactor < 1) this.glowFactor += this.glowSpeed; }
                else { if (this.glowFactor > 0) this.glowFactor -= this.glowSpeed * 0.4; }
                this.alpha += this.blinkSpeed;
                if (this.alpha > 0.95 || this.alpha < 0.35) this.blinkSpeed *= -1;
            }
        }

        function initStars() { stars = []; for (let i = 0; i < starCount; i++) stars.push(new Star()); }
        function animate() { ctx.clearRect(0, 0, canvas.width, canvas.height); stars.forEach(s => { s.update(); s.draw(); }); requestAnimationFrame(animate); }

        resize(); initStars(); animate();
        window.addEventListener('resize', () => { resize(); initStars(); });
        
        const updateMousePos = (e) => {
            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;
            mouse.x = clientX; mouse.y = clientY;
        };
        window.addEventListener('mousemove', updateMousePos);
        window.addEventListener('touchmove', updateMousePos);
        window.addEventListener('touchend', () => { mouse.x = -1000; mouse.y = -1000; });

        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        setInterval(() => {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }, 9000);

        const sloganElement = document.getElementById('slogan-text');
        setTimeout(() => {
            sloganElement.style.opacity = '0';
            setTimeout(() => {
                sloganElement.innerHTML = "這片星空，為紀念 0206 地震中的 <strong>117 位犧牲者</strong> 而存在！<br>每一顆星，象徵一段留下來的記憶，也提醒我們，那一夜從未真正遠去。";
                sloganElement.style.opacity = '1';
                stars.forEach(s => { s.isGlowing = true; });
                setTimeout(() => { stars.forEach(s => { s.isGlowing = false; }); }, 7000); 
            }, 2500);
        }, 6000);
    </script>
</body>
</html>
